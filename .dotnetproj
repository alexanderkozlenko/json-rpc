<!-- © Alexander Kozlenko. Licensed under the MIT License. -->
<Project>
  <PropertyGroup>
    <Configuration Condition="'$(Configuration)' == ''">Release</Configuration>
    <BuildProperties>Configuration=$(Configuration);ContinuousIntegrationBuild=true</BuildProperties>
    <SourcesDirectory>$(MSBuildThisFileDirectory)src</SourcesDirectory>
  </PropertyGroup>
  <ItemGroup>
    <SolutionReference Include="$(SourcesDirectory)\**\*.sln" />
    <ProjectReference Include="$(SourcesDirectory)\**\*.csproj" />
  </ItemGroup>
  <Target Name="Clean">
    <MSBuild Projects="@(SolutionReference)"
             Targets="Clean"
             Properties="$(BuildProperties)" />
  </Target>
  <Target Name="Restore">
    <MSBuild Projects="@(SolutionReference)"
             Targets="Restore"
             Properties="$(BuildProperties)" />
  </Target>
  <Target Name="Build">
    <MSBuild Projects="@(SolutionReference)"
             Targets="Build"
             Properties="$(BuildProperties)" />
  </Target>
  <Target Name="VSTest">
    <MSBuild Projects="@(ProjectReference)"
             Targets="Test"
             Properties="$(BuildProperties)" />
  </Target>
  <Target Name="Pack">
    <MSBuild Projects="@(ProjectReference)"
             Targets="Pack"
             Properties="$(BuildProperties)" />
  </Target>
</Project>